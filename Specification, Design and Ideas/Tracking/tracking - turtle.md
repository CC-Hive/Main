check surver tracking design document for some more info

function psudocode:

```
on timer
  send message with state, location
```

```
on register
  send all data
```

```
on data change
  send changed data
```